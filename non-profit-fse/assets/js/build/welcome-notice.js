!function(){"use strict";document.addEventListener("DOMContentLoaded",(()=>{!function(e){const{activating:s,installing:n,done:t,activationUrl:o,redirectUrl:i,ajaxUrl:a,nonce:c,wpfpRefNonce:r,wpfpStatus:d}=nonProfitFSEData,l=e(".non-profit-fse-welcome-notice #non-profit-fse-install-wpfp"),f=e(".non-profit-fse-welcome-notice .notice-dismiss"),p=e(".non-profit-fse-welcome-notice"),u=l.find(".text"),w=l.find(".dashicons"),m=()=>{p.fadeTo(100,0,(()=>{p.slideUp(100,(()=>{p.remove()}))}))},_=async()=>{var n;u.text(s),await(n=o,new Promise((e=>{jQuery.get(n).done((()=>{e({success:!0})})).fail((()=>{e({success:!1})}))}))),await e.post(a,{nonce:r,action:"non_profit_fse_set_wpfp_ref"}),w.removeClass("dashicons-update"),w.addClass("dashicons-yes"),u.text(t),setTimeout(m,1500),window.location.replace(i)};e(l).on("click",(async()=>{w.removeClass("hidden"),l.attr("disabled",!0),"active"!==d&&("installed"!==d?(u.text(n),await new Promise((e=>{wp.updates.ajax("install-plugin",{slug:"wp-full-stripe-free",success:()=>{e({success:!0})},error:s=>{e({success:!1,code:s.errorCode})}})})),await _()):await _())})),e(f).on("click",(()=>{e.post(a,{nonce:c,action:"non_profit_fse_dismiss_welcome_notice",success:m})}))}(jQuery)}))}();